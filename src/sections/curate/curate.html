<template class="task-template">
  <section id="curate-section" class="section js-section u-category-windows">
    <header class="section-header">
      <div class="section-wrapper">
        <h1>
          Prepare dataset
        </h1>
        <h3>This interface will walk you through the steps for performing an initial curation of your dataset before review by the Curation Team. </h3>
      </div>
    </header>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="new-window-demo-toggle" class="js-container-target demo-toggle-button">Organize
          <div class="demo-meta u-avoid-clicks"> Implement the SPARC dataset folder structure
          </div>
        </button>
        <div class="demo-box">

          <form id = 'dataset_organize_form'>
            <div>
              <input id="preorganized-dataset" name="organizing-dataset" type="radio" class="with-style" value="preorganized"/>
              <label for="preorganized-dataset" class=labelradio> Dataset already organized </label>
                <tooltip data-tooltip="Select this option when you already have the SPARC folder structure in place" data-tooltip-position="left">( ? )</tooltip>
            </div>
            <div>
              <input id="organize-dataset" name="organizing-dataset" type="radio" class="with-style" value="not-organized" />
              <label for="organize-dataset" class=labelradio> Organize my dataset </label>
                <tooltip data-tooltip="Select this option to conveniently organize your dataset following the SPARC folder structure" data-tooltip-position="left">( ? )</tooltip>
            </div>
            <div>
              <input id="smart-organize-dataset" name="organizing-dataset" type="radio" class="with-style" value="smart-organize"/>
              <label for="smart-organize-dataset" class=labelradio> Smart organize </label>
                <tooltip data-tooltip="Select to automatically organize your dataset based on a previously saved organized structure. <br>
                This applies if you are following a strict dataset organization structure (different than SPARC) and only the high-level folder changes from dataset to dataset." data-tooltip-position="left">( ? )</tooltip>
            </div>
          </form>


          <div id="div-smart-organize-dataset" class="datasetsaveoption">
            <div class="demo-controls">
              <p> Coming soon... Tentative date: December 2019 </p>
            </div>
          </div>

          <div id="divPreorganizedDataset" class="datasetsaveoption">
            <h5> </h5>
            <div class="demo-controls">
            <button class="demo-button" id="select-dataset"> Select Dataset Folder </button>
            <p id="selected-dataset"></p>
            </div>
            <h5> </h5>
            <div class="demo-controls">
                  <table id="table-organized" class = pathtable>
                    <tr id='code_org'>
                      <th>code</th>
                      <th>description</th>
                    </tr>

                    <tr id='derivatives_org'>
                      <th>derivatives</th>
                      <th>description</th>
                    </tr>

                    <tr id='docs_org'>
                      <th>docs</th>
                      <th>description</th>
                    </tr>

                    <tr id="protocol_org">
                    <th>protocol</th>
                    <th>description</th>
                    </tr>

                    <tr id='samples_org'>
                      <th>samples</th>
                      <th>description</th>
                    </tr>

                    <tr id='sourcedata_org'>
                      <th>sourcedata</th>
                      <th>description</th>
                    </tr>

                    <tr id='subjects_org'>
                      <th>subjects</th>
                      <th>description</th>
                    </tr>

                    <tr id='main_org'>
                      <th>main</th>
                      <th>description</th>
                    </tr>

                  </table>
              </div>
          </div>

          <div id="divOrganizeDataset" class="datasetsaveoption">

            <h5> Upload previously saved file structure
              <tooltip data-tooltip="Import template of the file structure you saved earlier" data-tooltip-position="left">( ? )</tooltip>
            </h5>
            <div class="demo-controls">
              <button class="demo-button" id="select-upload-file-organization"> Upload </button>
              <p id='upload-file-organization-status'> <p>
            </div>
            <hr>

            <h5> Select folders and files to be added in each SPARC folder
              <tooltip data-tooltip="Select SPARC folder from the drop-down them add files / folders using the corresponding buttons. <br>
              Alternatively, you could drag-and-drop files / folders on the table headers to import the them. <br><br>
              The 'main' folder designates the dataset folder." data-tooltip-position="left">( ? )</tooltip>
            </h5>
            <div class="demo-controls">
            	<p> Select SPARC folder: <p>
              <div>	<select id="SPARCfolderlist">
	              <option> code </option>
	              <option> derivatives </option>
	              <option> docs </option>
	              <option> protocol </option>
	              <option> samples </option>
	              <option> sourcedata </option>
	              <option> subjects </option>
                <option> main </option>
	        	</select> </div>
            </div>
            <div class="demo-controls">
                <p> Browse and select files/folders: </p>
              	<button class="demo-button" id="select-code">Add files </button>
              	<button class="demo-button" id="select-code-directory">Add folders</button>
            </div>
            <h5>  </h5>
            <div class="demo-controls">
                <table id="code_table" class = pathtable>
                  <tr id="code" droppable="true" ondragenter="return false" ondragover="return false">
                  	<th>code</th>
                    <th>description</th>
                  </tr>

                  <tr id='derivatives' droppable="true" ondragenter="return false" ondragover="return false">
                  	<th>derivatives</th>
                    <th>description</th>
                  </tr>

                  <tr id='docs' droppable="true" ondragenter="return false" ondragover="return false">
                    <th>docs</th>
                    <th>description</th>
                  </tr>

                  <tr id="protocol" droppable="true" ondragenter="return false" ondragover="return false">
                    <th>protocol</th>
                    <th>description</th>
                  </tr>

                  <tr id='samples' droppable="true" ondragenter="return false" ondragover="return false">
                    <th>samples</th>
                    <th>description</th>
                  </tr>

                  <tr id='sourcedata' droppable="true" ondragenter="return false" ondragover="return false">
                    <th>sourcedata</th>
                    <th>description</th>
                  </tr>

                  <tr id='subjects' droppable="true" ondragenter="return false" ondragover="return false">
                    <th>subjects</th>
                    <th>description</th>
                  </tr>

                  <tr id='main' droppable="true" ondragenter="return false" ondragover="return false">
                    <th>main</th>
                    <th>description</th>
                  </tr>


                </table>
            </div>

            <hr>
            <h5> Preview file organization
              <tooltip data-html="true" data-tooltip="Get a preview of the dataset you organized<br>Remember to click on 'Delete Preview Folder' once you're done !" data-tooltip-position="left">( ? )</tooltip>
            </h5>
	        <div class="demo-controls">
	            <button class="demo-button" id="preview-file-organization"> Preview </button>
              <p id='preview-organization-status'> <p>
	        </div><br>
          <div class="demo-controls">
              <button class="demo-button" id="delete-preview-organization-status"> Delete Preview Folder </button>
              <p id='delete-preview-organization-status'> <p>
          </div>

          </div>

          <div id="divSaveTable" class="datasetsaveoption">
            <h5> Save file organization to continue later
              <tooltip data-tooltip="Save the table you created as a template (CSV format) for continuing later <br>
              You can optionally add file/folder paths and descriptions directly in the teamplate before importing back with the upload button" data-tooltip-position="left">( ? )</tooltip>
            </h5>
            <div class="demo-controls">
	            <button class="demo-button" id="select-save-file-organization"> Save </button>
              <p id='save-file-organization-status'> <p>
  	        </div>
          </div>

          <div id="divClearTable" class="datasetsaveoption">
            <h5> </h5>
            <button class="demo-button" id="clear-table"> Clear table </button>
          </div>

        </div>

        </div>
      </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="manage-window-demo-toggle" class="js-container-target demo-toggle-button">Convert file format
          <div class="demo-meta u-avoid-clicks"> Use SPARC standard file formats </div>
        </button>
        <div class="demo-box">
          <p> Coming soon... Tentative date: May 2020 </p>
        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="using-window-events-demo-toggle" class="js-container-target demo-toggle-button">Generate metadata
          <div class="demo-meta u-avoid-clicks"> Include manifest, submission, dataset_description, subjects and/or samples files</div>
        </button>
        <div class="demo-box">

          <h5>Manifest file</h5>

          <div class="demo-controls">
            <input id="generate-manifest" name="manifest" type="checkbox" class="with-style"/>
            <label for="generate-manifest" class=labelradio> Generate manifest files </label>
          </div>

          <h5>Submission file <tooltip data-html="true" data-tooltip="Select existing: chose an already existing submission file <br><br>
                                                  Generate new from template: creates a new empty submission file <br><br>
                                                  None: Do nothing" data-tooltip-position="left">( ? )</tooltip></h5>

          <form id='submission_file_form'>
            <div>
              <input id="existing-submission" name="submission_file_option" type="radio" class="with-style" value="existing" />
              <label for="existing-submission" class=labelradio>Select existing</label>
            </div>
            <div>
              <input id="new-submission" name="submission_file_option" type="radio" class="with-style" value="new" />
              <label for="new-submission" class=labelradio> Generate new from template</label>
            </div>
            <div>
              <input id="no-submission" name="submission_file_option" type="radio" class="with-style" value="none" checked/>
              <label for="no-submission" class=labelradio> None </label>
            </div>
          </form>

          <div id="divExistingSubmission" class="datasetsaveoption">
            <h5> </h5>
            <div class="demo-controls">
            <button class="demo-button" id="select-submission">Select submission file </button>
            <textarea class="demo-response" id="selected-submission"></textarea>
            </div>
          </div>

          <h5>Dataset description file</h5>

          <form id='description_file_form'>
            <div>
              <input id="existing-description" name="descripion_file_option" type="radio" class="with-style" value="existing" />
              <label for="existing-description" class=labelradio>Select existing</label>
            </div>
            <div>
              <input id="new-description" name="descripion_file_option" type="radio" class="with-style" value="new" />
              <label for="new-description" class=labelradio> Generate new from template</label>
            </div>
            <div>
              <input id="no-description" name="descripion_file_option" type="radio" class="with-style" value="none" checked/>
              <label for="no-description" class=labelradio> None </label>
            </div>
          </form>

          <div id="divExistingDescription" class="datasetsaveoption">
            <h5> </h5>
            <div class="demo-controls">
            <button class="demo-button" id="select-description">Select description file </button>
            <textarea class="demo-response" id="selected-description"></textarea>
            </div>
          </div>

          <h5>Subjects file</h5>

          <form id='subjects_file_form'>
            <div>
              <input id="existing-subjects" name="subjects_file_option" type="radio" class="with-style" value="existing" />
              <label for="existing-subjects" class=labelradio>Select existing</label>
            </div>
            <div>
              <input id="new-subjects" name="subjects_file_option" type="radio" class="with-style" value="new" />
              <label for="new-subjects" class=labelradio> Generate new from template</label>
            </div>
            <div>
              <input id="no-subjects" name="subjects_file_option" type="radio" class="with-style" value="none" checked/>
              <label for="no-subjects" class=labelradio> None </label>
            </div>
          </form>

          <div id="divExistingSubjects" class="datasetsaveoption">
            <h5> </h5>
            <div class="demo-controls">
            <button class="demo-button" id="select-subjects">Select subjects file </button>
            <textarea class="demo-response" id="selected-subjects"></textarea>
            </div>
          </div>

          <h5>Samples file</h5>

          <form id='samples_file_form'>
            <div>
              <input id="existing-samples" name="samples_file_option" type="radio" class="with-style" value="existing" />
              <label for="existing-samples" class=labelradio>Select existing </label>
            </div>
            <div>
              <input id="new-samples" name="samples_file_option" type="radio" class="with-style" value="new" />
              <label for="new-samples" class=labelradio> Generate new from template </label>
            </div>
            <div>
              <input id="no-samples" name="samples_file_option" type="radio" class="with-style" value="none" checked/>
              <label for="no-samples" class=labelradio> None </label>
            </div>
          </form>

          <div id="divExistingSamples" class="datasetsaveoption">
            <h5> </h5>
            <div class="demo-controls">
            <button class="demo-button" id="select-samples">Select samples file </button>
            <textarea class="demo-response" id="selected-samples"></textarea>
            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button class="js-container-target demo-toggle-button">Validate dataset
          <div class="demo-meta u-avoid-clicks"> Verify dataset using validator developed by the Curation Team </div>
        </button>
        <div class="demo-box">
          <p> Coming soon... Tentative date: February 2020 </p>
        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button class="js-container-target demo-toggle-button"> Generate dataset
          <div class="demo-meta u-avoid-clicks"> Apply changes and create dataset locally or directly on Blackfynn </div>
        </button>

        <div class="demo-box">

        <h5> New dataset</h5>
          <form id = 'dataset_curate_form'>
            <div id = "div-existing-dataset">
              <input id="existing-dataset" name="new-dataset" type="radio" class="with-style" value="existing"/>
              <label id = "label-existing-dataset" for="existing-dataset" class=labelradio>Modify current dataset</label>
              <tooltip data-tooltip="This will add all changes to the current dataset folder. <br>
              This option will only be available when 'Dataset already organized' option is selected." data-tooltip-position="left">( ? )</tooltip>
            </div>
            <div>
              <input id="create-newdataset" name="new-dataset" type="radio" class="with-style" value="local" />
              <label for="create-newdataset" class=labelradio>Create new dataset locally</label>
              <tooltip data-tooltip="This option will create the dataset at the desired location locally with all requested files" data-tooltip-position="left">( ? )</tooltip>
            </div>
            <div>
              <input id="cloud-dataset" name="new-dataset" type="radio" class="with-style" value="cloud" />
              <label for="cloud-dataset" class=labelradio>Create new dataset directly on Blackfynn</label>
              <tooltip data-tooltip="This option will create the dataset with all requested files directly on your Blackfynn account" data-tooltip-position="left">( ? )</tooltip>
            </div>
          </form>

          <div id="divCreateNew" class="datasetsaveoption">

            <h5> Select destination folder for new dataset </h5>
            <div class="demo-controls">
              <button class="demo-button" id="select-new-dataset"> Select Destination </button>
              <textarea class="demo-response" id="selected-new-dataset"></textarea>
            </div>

            <h5> Enter a name for the new dataset  </h5>
              <div class="demo-controls">
              <textarea class="demo-response" id="new-dataset-name"></textarea>
            </div>

          </div>

          <div id="divCreateCloud" class="datasetsaveoption">
          <p> Coming soon... Tentative date: December 2020</p>
          </div>

          <div id="curatebutton" class="datasetsaveoption">
          <h5> Apply changes </h5>
          <button class="demo-button" id="curate-dataset"> Generate </button>
          </div>
          <div id="progressprint" class="datasetsaveoption">
          <h5> Progress </h5>
          <textarea id='progressinfo' class='outputprint' rows="25" readonly></textarea>
          </div>

        </div>

      </div>
    </div>

    <script type="text/javascript">
      require('./renderer-process/curate/radio-buttons-display')
    </script>

    <script type="text/javascript" src="./renderer-process/curate/table-script.js">
    </script>

  </section>
</template>
