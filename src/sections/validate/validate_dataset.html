<template class="task-template">
  <section
    id="validate_dataset-section"
    class="section js-section u-category-windows"
    style="padding-left: 15px; overflow-y: hidden"
  >
    <div
      class="main-tabs show"
      style="display: flex; height: 100%; overflow-y: hidden"
    >
      <header class="section-header">
        <div
          style="
            display: inline-flex;
            align-items: center;
            flex-direction: row;
            width: 94.5%;
            padding-right: 20px;
            margin-bottom: 50px;
          "
        >
          <div class="need-help-div">
            <h2>Validate Dataset</h2>
            <a
              target="_blank"
              href="https://github.com/bvhpatel/SODA/wiki/Share-with-curation-team"
              >Need help?</a
            >
          </div>
        </div>
      </header>

      <div id="validate_dataset-tab" style="overflow-y: auto; height: 70%">
        <div
          class="individual-question validate_dataset show"
          id="validate_dataset-question-1"
          style="height: auto"
        >
          <div class="ui form" style="width: 100%">
            <div class="grouped fields">
              <!--Select how you wish to validate the dataset-->
              <div
                style="
                  display: flex;
                  flex-direction: row;
                  justify-content: center;
                "
              >
                <div style="margin: 15px 0">
                  <div
                    class="option-card radio-button"
                    id="validate_dataset-1-local"
                    data-current="validate_dataset-question-1"
                    data-next="validate_dataset-question-2"
                    onclick="transitionFreeFormMode(this, 'validate_dataset-question-1', 'validate_dataset-tab', '', 'individual-question ')"
                    style="
                      max-width: 180px;
                      height: 220px !important;
                      width: 180px !important;
                    "
                  >
                    <div class="card-head">
                      <div class="folder-checkbox">
                        <input
                          class="folder-input-check"
                          name="submission-1"
                          type="radio"
                          id="submission-1-B"
                        />
                        <label for="submission-1-B"></label>
                      </div>
                    </div>
                    <div class="card-body">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="40px"
                        height="40px"
                        fill="var(--color-accent)"
                        class="bi bi-file-earmark-plus"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"
                        ></path>
                        <path
                          d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"
                        ></path>
                      </svg>
                      <h2>I want to validate a local dataset</h2>
                    </div>
                  </div>
                </div>
                <div style="margin: 15px 0">
                  <div
                    class="option-card radio-button"
                    data-current="Question-prepare-submission-1"
                    data-next="Question-prepare-submission-3"
                    onclick="transitionFreeFormMode(this, 'Question-prepare-submission-1', 'create_submission-tab', '', 'individual-question prepare-submission')"
                    style="
                      max-width: 180px;
                      height: 220px !important;
                      width: 180px !important;
                    "
                  >
                    <div class="card-head">
                      <div class="folder-checkbox">
                        <input
                          class="folder-input-check"
                          name="submission-1"
                          type="radio"
                          id="submission-1-A"
                        />
                        <label for="submission-1-A"></label>
                      </div>
                    </div>
                    <div class="card-body">
                      <i
                        class="far fa-save"
                        style="color: var(--color-bg-orange)"
                      ></i>
                      <h2>I want to validate a Pennsieve dataset</h2>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="ui form" style="width: 100%">
            <div class="grouped fields">
              <label style="font-size: 17px; color: var(--color-bg-plum)"
                >Select a dataset:
              </label>
              <div class="field" style="margin: auto; width: 500px">
                <div
                  style="
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                    margin-top: 15px;
                    height: auto;
                    box-shadow: 0px 0px 10px #d5d5d5;
                    padding: 15px 25px;
                    border-radius: 5px;
                  "
                >
                  <div
                    style="
                      display: flex;
                      flex-direction: row;
                      justify-content: space-between;
                    "
                  >
                    <div class="card-container manage-dataset">
                      <div>
                        <h5
                          class="card-left"
                          style="text-align: right; padding-right: 5px"
                        >
                          Current account:
                        </h5>
                        <h5 class="card-right bf-account-span">None</h5>
                      </div>
                    </div>
                    <svg
                      class="svg-change-current-account bi bi-pencil-fill"
                      onclick="openDropdownPrompt('bf')"
                      xmlns="http://www.w3.org/2000/svg"
                      width="18"
                      height="18"
                      fill="#000"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"
                      />
                    </svg>
                  </div>
                  <div
                    style="
                      display: flex;
                      flex-direction: row;
                      margin-bottom: 15px;
                    "
                  >
                    <div class="card-container manage-dataset">
                      <div>
                        <h5
                          class="card-left"
                          style="text-align: right; padding-right: 5px"
                        >
                          Account details:
                        </h5>
                        <h5 class="card-right bf-account-details-span">None</h5>
                      </div>
                    </div>
                  </div>
                  <div
                    style="
                      display: flex;
                      flex-direction: row;
                      justify-content: space-between;
                    "
                  >
                    <div class="card-container manage-dataset">
                      <div>
                        <h5
                          class="card-left"
                          style="text-align: right; padding-right: 5px"
                        >
                          Current dataset:
                        </h5>
                        <h5 class="card-right bf-dataset-span">None</h5>
                      </div>
                    </div>
                    <svg
                      class="
                        svg-change-current-account
                        dataset
                        bi bi-pencil-fill
                      "
                      onclick="openDropdownPrompt('dataset')"
                      xmlns="http://www.w3.org/2000/svg"
                      width="18"
                      height="18"
                      fill="#000"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"
                      />
                    </svg>
                    <div
                      class="ui active green inline loader small"
                      style="display: none"
                    ></div>
                  </div>
                </div>
                <div
                  class="div-confirm-button"
                  style="
                    display: none;
                    flex-direction: row;
                    justify-content: center;
                    margin: 10px auto;
                  "
                >
                  <button
                    onclick="transitionFreeFormMode(this, 'validate_dataset-question-1', 'validate_dataset-tab', 'delete', 'individual-question validate_dataset')"
                    data-next="validate_dataset-question-2"
                    class="confirm-button"
                    style="
                      cursor: pointer;
                      border-radius: 8px;
                      margin: 10px auto;
                      width: 100px;
                      height: 30px;
                      background: var(--color-light-green);
                      color: #fff;
                      font-weight: 600;
                      border: none;
                      font-size: 13px;
                    "
                  >
                    Confirm
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          class="individual-question validate_dataset"
          id="validate_dataset-question-2"
          style="height: auto"
        >
          <div class="ui form">
            <div class="grouped fields">
              <label style="font-size: 17px; color: var(--color-bg-plum)"
                >Where is the existing dataset located?</label
              >
              <div
                class="field"
                style="
                  margin: 15px auto;
                  display: flex;
                  justify-content: center;
                "
              >
                <input
                  class="form-control"
                  style="width: 450px !important"
                  id="validate-local-dataset-path"
                  type="text"
                  readonly=""
                  placeholder="Browse here"
                />
              </div>

              <div
                class="field"
                style="
                  margin: 15px auto;
                  display: flex;
                  justify-content: center;
                "
              >
                <button
                  style="
                    cursor: pointer;
                    border-radius: 8px;
                    margin: 10px auto;
                    width: 100px;
                    height: 30px;
                    background: var(--color-light-green);
                    color: rgb(255, 255, 255);
                    font-weight: 600;
                    border: none;
                    font-size: 13px;
                  "
                  onclick="transitionFreeFormMode(this, 'validate_dataset-question-2', 'validate_dataset-tab', '', 'individual-question validate_dataset')"
                  data-next="validate_dataset-question-3"
                  data-current="validate_dataset-question-2"
                >
                  Confirm
                </button>
              </div>
            </div>
          </div>
        </div>

        <div
          class="individual-question validate_dataset"
          id="validate_dataset-question-3"
          style="height: auto"
        >
          <div class="ui form" style="width: 450px">
            <div class="grouped fields">
              <div
                id="div-confirm-validate_dataset"
                style="
                  display: flex;
                  flex-direction: column;
                  justify-content: center;
                  align-items: center;
                  margin: 0 auto;
                "
              >
                <div style="display: flex; justify-content: space-between">
                  <button
                    id="run_validator_btn"
                    class="btn_animated md"
                    style="
                      cursor: pointer;
                      border-radius: 8px;
                      margin: 10px auto;
                      width: 160px;
                      height: 40px;
                      border: none !important;
                      font-size: 15px;
                      text-align: center;
                    "
                    onclick="transitionFreeFormMode(this, 'validate_dataset-question-3', 'validate_dataset-tab', '', 'individual-question validate_dataset')"
                    data-next="validate_dataset-question-4"
                  >
                    Run dataset validator
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          class="individual-question validate_dataset"
          id="validate_dataset-question-4"
          style="height: auto"
        >
          <div class="ui form" style="width: 450px">
            <div class="grouped fields">
              <div
                style="
                  display: flex;
                  flex-direction: column;
                  justify-content: space-between;
                  margin-top: 15px;
                  height: auto;
                  box-shadow: 0px 0px 10px #d5d5d5;
                  padding: 15px 25px;
                  border-radius: 5px;
                "
              >
                <div
                  style="
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                  "
                >
                  <p
                    id="dataset_validator_status"
                    style="margin-top: 10px; text-align: center"
                  ></p>
                  <br />
                  <div
                    id="dataset_validator_spinner"
                    class="spinner validate_dataset"
                    style="display: none"
                  >
                    <div class="rect1"></div>
                    <div class="rect2"></div>
                    <div class="rect3"></div>
                    <div class="rect4"></div>
                    <div class="rect5"></div>
                  </div>
                </div>

                <div id="validation_error_accordion" class="ui accordion"></div>
              </div>

              <table class="ui celled padded table">
                <thead>
                  <tr>
                    <th>Message</th>
                    <th>Solution</th>
                    <th>Fix Here</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="single line">Power Output</td>
                    <td>
                      <div
                        class="ui yellow rating"
                        data-rating="3"
                        data-max-rating="3"
                      ></div>
                    </td>
                    <td class="right aligned">
                      80% <br />
                      <a href="#">18 studies</a>
                    </td>
                  </tr>
                  <tr>
                    <td class="single line">Weight</td>
                    <td>
                      <div
                        class="ui yellow rating"
                        data-rating="3"
                        data-max-rating="3"
                      ></div>
                    </td>
                    <td class="right aligned">
                      100% <br />
                      <a href="#">65 studies</a>
                    </td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <th colspan="5">
                      <div class="ui right floated pagination menu">
                        <a class="icon item">
                          <i class="left chevron icon"></i>
                        </a>
                        <a class="item">1</a>
                        <a class="item">2</a>
                        <a class="item">3</a>
                        <a class="item">4</a>
                        <a class="icon item">
                          <i class="right chevron icon"></i>
                        </a>
                      </div>
                    </th>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="footer-div">
        <div style="display: flex; flex-direction: row; width: 120px">
          <button
            type="button"
            class="transition-btn prev"
            data-section="main_tabs"
          >
            <i class="fas fa-arrow-left" style="margin-right: 10px"></i>Return
          </button>
        </div>
      </div>
    </div>
  </section>

  <script src="./scripts/validator/validate.js"></script>
</template>
