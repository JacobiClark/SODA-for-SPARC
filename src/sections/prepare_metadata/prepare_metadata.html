<!DOCTYPE html>
<template class="task-template">
  <section id="prepare_metadata-section" class="section js-section u-category-windows">
    <header class="section-header">

      <div class="section-wrapper">
        <h1>
          <img class="section-icon" src="assets/img/metadata-teal.png">
          Prepare Metadata
        </h1>
        <h3>This interface will help you in preparing metadata files. Assistance will be especially provided by auto-populating fields based on previously specified information (e.g., grant number, investigator's ORCID, etc.).
        <br>
        <br>
        Full feature coming soon... Tentative date: March 2020. Currently, you can download the templates for these metadata files. </h3>
      </div>
    </header>

    <!-- Download Metadata -->
    <div class="demo">
      <div class="demo-wrapper">
        <button id="button-new-window-login-demo-toggle" class="js-container-target demo-toggle-button">Download templates
          <div class="demo-meta u-avoid-clicks"> Get the templates provided by the SPARC Curation Team </div>
        </button>

        <div class="demo-box">
          <div class="div-list-metadata">
                <h5></h5>
                <div>
                  <button id="a-submission" class="download-metadata">submission.xlsx
                    <img class="download-image" src="assets/img/download-white.png"></img>
                  </button>
                </div>
                <h5></h5>
                <button id="a-description" href="#" class="download-metadata">dataset_description.xlsx
                  <img class="download-image" src="assets/img/download-white.png"></img>
                </button>
                <h5></h5>
                <button id="a-subjects" href="#" class="download-metadata">subjects.xlsx
                  <img class="download-image" src="assets/img/download-white.png"></img>
                </button>
                <h5></h5>
                <button id="a-samples" href="#" class="download-metadata">samples.xlsx
                  <img class="download-image" src="assets/img/download-white.png"></img>
                </button>
                <h5></h5>
                <button id="a-manifest" href="#" class="download-metadata">manifest.xlsx
                  <img class="download-image" src="assets/img/download-white.png"></img>
                </button>
              </div>
            </div>
          </div>
    </div>

<!-- Save information for later -->
    <div class="demo">
      <div class="demo-wrapper">
        <button id="button-save-grant-info-demo-toggle" class="js-container-target demo-toggle-button">Provide grant information
          <div class="demo-meta u-avoid-clicks"> Provide information about your grant number and milestones for later use </div>
        </button>

      <div class="demo-box">
          <form id = 'grant-information'>
            <div style = "padding:10px 0px">
              <input class="input-switch" id="addGrant" type="radio" name="tabs" checked>
              <label class="label-switch" style="font-size:15px;padding-top: 6px;" for="addGrant">Add new grant</label>
              <input class="input-switch" id="selectGrant" type="radio" name="tabs">
              <label class="label-switch" style="font-size:15px;padding-top: 6px;"for="selectGrant">Edit existing grant</label>
            </div>
         </form>

          <div id="div-add-new-grant" class="datasetsaveoption" style="display:block;margin-top:70px">
            <h5> Add a new grant number: </h5>
            <div class="demo-controls">
              <select id="select-grant-info-list" class="my-dropdown-metadata" style="width:90%;float:left;padding:6px 8px;margin-top:15px">
                <option>Select</option>
              </select>
              <button id="button-add-award" class="demo-button" style="height:35px;width:150px;padding:0 0;margin-left:10px;margin-top:15px">Add</button>
            </div>
            <div style="height:20px;margin-top:7px">
              <p id="para-save-award-info"></p>
            </div>
          </div>

          <div id="div-select-existing-grant" class="datasetsaveoption" style="display:none;margin-top:70px;margin-left:10px">
            <h5> Specify grant number to edit milestone information: </h5>
            <div class="demo-controls" style="margin-top:20px">
              <select id="select-presaved-grant-info-list" class="my-dropdown-metadata" style="width:100%; padding: 6px 8px; font-size:14px">
                <option>Select</option>
              </select>
              <br>
              <button id="button-delete-award" class="demo-button" style="height:35px;width:150px;padding:0 0;margin-left:10px">Delete award</button>
            </div>
            <div>
            <p id='para-delete-award-status'></p>
            </div>
            <p></p>
            <div class="demo-controls">
               <div id="div-show-milestone-info" class="pathtable" style="display:none;width:90%;border-radius:5px;margin:0 auto">
                 <h5 align="center"> Add/Edit milestone information: </h5>
                 <h5></h5>
               <table id="table-milestones">
                 <tr>
                   <th style="width:50%">Milestone</th>
                   <th style="width:35%">Completion Date</th>
                   <th style="width:15%"></th>
                </tr>
                <tr id="default-milestone-row">
                   <td><input id="input-milestone-new" class="form-container-input" placeholder="Add a milestone..." style="text-align:center"/></td>
                   <td><input id="input-date-new" type="date" name="date" style="text-align:center;font:inherit" class="form-container-input"/></td>
                   <td><input id="button-default-save-milestone" type='button' value='Save' class="demo-button-table milestone" style="font-size:13px">
                   <input id="button-delete-milestone" type='button' value='Delete' class='demo-button-table milestone' style="display:none;float:left;font-size:13px"></td>
                </tr>
               </table>
               <h5></h5>
               <div align="right">
                 <button class="demo-button" style="margin-right:0;width:160px;float:right" id="button-save-milestone"> Save Information </button>
                 <p id='para-save-milestone-status'style="float:right;padding-top:0;margin-bottom:0"></p>
              </div>
               </div>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Prepare submission file -->
    <div class="demo">
      <div class="demo-wrapper">
        <button id="button-submission-demo-toggle" class="js-container-target demo-toggle-button"> Prepare your Submission file
          <div class="demo-meta u-avoid-clicks"> Edit/Save the submission file to include in your dataset  </div>
        </button>
      <div class="demo-box">
        <div class="demo-controls">
        <div id="div-generate-submission-file" class="pathtable" style="width:100%;">
          <h5 align="center"> Populate the items below to generate submission file</h5>
          <br>
          <div class="form-container-ds"><font color="black"> SPARC Award Number: </font> </div>
          <div class="tooltipnew"><img class="info" src="assets/img/info.png">
            <span class="tooltiptext" style="width: 250px;">
              Grant number supporting the milestone
            </span>
          </div>
          <div class="demo-controls">
          <select id="presaved-award-list" class="form-container-input-bf" style="line-height: 2;height:28px">
            <option value="Select">Select an option</option>
          </select>
          </div>
          <div class="form-container-ds"><font color="black"> Milestone: </font> </div>
          <div class="tooltipnew"><img class="info" src="assets/img/info.png">
            <span class="tooltiptext" style="width: 250px;">
              From milestones supplied to NIH
            </span>
          </div>
          <div class="demo-controls">
            <input id="selected-milestone" class="form-container-input-bf" list="submission-milestone-list" placeholder="Enter milestone..."/>
            <datalist id="submission-milestone-list">
              <option> </option>
            </datalist>
          </div>
          <div class="form-container-ds"><font color="black"> Completion Date: </font> </div>
          <div class="tooltipnew"><img class="info" src="assets/img/info.png">
            <span class="tooltiptext" style="width: 250px;">
              Date of milestone completion. This date starts the countdown for submission (30 days after completion),
              length of embargo and publication date (12 months from completion of milestone)
            </span>
          </div>
          <div class="demo-controls">
            <input style="font:inherit;height:28px" id="selected-milestone-date" name="milestonedate" type="date"class="form-container-input-bf"></input>
          </div>
          <br>
          <div align="right">
            <button class="demo-button" style="margin-right:0;width:140px;float:right" id="generate-submission"> Generate </button>
            <p id='para-save-submission-status' style="float:right;padding-top:0;margin-right:5px;margin-bottom:0;margin-top:0"></p>
          </div>
        </div>
        </div>
        </div>
      </div>
    </div>
  <!-- Prepare dataset-description file -->
    <div class="demo">
      <div class="demo-wrapper">
        <button id="button-ds-description-demo-toggle" class="js-container-target demo-toggle-button"> Prepare your Dataset Description file
          <div class="demo-meta u-avoid-clicks"> Edit/Save the dataset description file to include in your dataset  </div>
        </button>
        <div class="demo-box" style="width:100%">

          <div class="multisteps-form__progress" style="margin-top:20px">
            <button id="ds-dataset-info" class="multisteps-form__progress-btn js-active1" type="button" title="Dataset Info"><b>Dataset Info</b></button>
            <button id="ds-contributor-info"class="multisteps-form__progress-btn" type="button" title="Con Info"><b>Contributor Info</b></button>
            <button id="ds-misc-info"class="multisteps-form__progress-btn" type="button" title="Other Info"><b>Other Info</b></button>
            <button id="ds-optional-info" class="multisteps-form__progress-btn" type="button" title="Optional Info"><b>Optional Info</b></button>
          </div>

          <div style="display:block;width:85%;margin: 0 auto" id="div-ds-dataset-info" class="datasetsaveoption">
            <br>
            <div class="form-container-ds"><font color="black"> Name: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 200px;">
                Descriptive title for the data set. Equivalent to the title of a scientific paper.
                The metadata associated with the published version of this dataset does not currently make use of this field.
              </span>
            </div>
            <div class="demo-controls">
              <input id="ds-name" class="form-container-input-bf"/>
            </div>
            <div class="form-container-ds"><font color="black"> Description: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 200px;z-index:4">
                NOTE: This field is not currently used when publishing a SPARC dataset. Brief description of the study and the data set.
                Equivalent to the abstract of a scientific paper.
                <br>
                Include the rationale for the approach, the types of data collected, the techniques used, formats and number of files and an approximate size. The metadata associated with the published version of this dataset does not currently make use of this field.
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="ds-description" class="form-container-textarea"> </textarea>
            </div>
            <div class="form-container-ds"><font color="black"> Keywords: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 200px;z-index:2">
                A set of 3-5 keywords other than the above that will aid in search
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="ds-keywords" class="form-container-textarea" style="border-left: 2px solid #258193;"> </textarea>
            </div>
            <div class="form-container-ds"><font color="black"> Number of samples: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 200px;">
                Number of unique samples in this dataset, should match samples metadata file. Set to zero if there are no samples.
              </span>
            </div>
            <div class="demo-controls">
              <input id="ds-samples-no" class="form-container-input-bf"/>
            </div>
            <div class="form-container-ds"><font color="black"> Number of subjects: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 200px;">
                Number of unique subjects in this dataset, should match subjects metadata file.
              </span>
            </div>
            <div class="demo-controls">
              <input id="ds-subjects-no" class="form-container-input-bf"/>
            </div>
            <br><br><br>
            <div align="right">
              <button id="button-next-ds-contributor"class="demo-button-prev-next">Next</button>
            </div>
          </div>
          <div id="div-ds-contributor-info" style="width:85%;margin: 0 auto" class="datasetsaveoption">
            <br>
          <h5 align="center">Award Information </h5>
          <br>
            <!-- <h5 align="center">Populate the fields below with information about the contributors: </h5> -->
            <div class="form-container-ds"><font color="black"> Award/Funding: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 200px;">
                Funding sources
              </span>
            </div>
            <div class="demo-controls">
            <select id="ds-description-award-list" class="form-container-input-bf">
              <option value="Select">Select an option</option>
            </select>
            </div>
            <div class="form-container-ds"><font color="black"> Acknowlegdments: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;">
                Acknowledgements beyond funding and contributors
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="ds-description-acknowlegdment" class="form-container-textarea"> </textarea>
            </div>
            <p><h5 align="center">Contributor Information </h5></p>
            <div class="form-container-ds"><font color="black"> Contributor: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;">
                Name of any contributors to the dataset. These individuals need not have been authors on any publications describing the data,
                but should be acknowledged for their role in producing and publishing the data set.
                If more than one, add each contributor in a new column.
              </span>
            </div>
            <div class="demo-controls">
            <select id="ds-description-contributor-list" class="form-container-input-bf">
              <option>Select an option</option>
            </select>
            </div>
            <div class="form-container-ds"><font color="black"> ORCID ID: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;">
                ORCID ID. If you don't have an ORCID, we suggest you sign up for one at "https://orcid.org/"
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-con-ID" class="form-container-input-bf">
            </div>
            <div class="form-container-ds"><font color="black"> Contributor Affiliation: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;">
                Institutional affiliation for contributors
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-con-affiliation" class="form-container-input-bf"/>
            </div>
            <div class="form-container-ds"><font color="black"> Contributor Role: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;z-index:3">
                Contributor role, e.g., PrincipleInvestigator, Creator, CoInvestigator, ContactPerson, DataCollector, DataCurator, DataManager, Distributor, Editor, Producer, ProjectLeader, ProjectManager, ProjectMember, RelatedPerson, Researcher, ResearchGroup, Sponsor, Supervisor, WorkPackageLeader, Other.
                <br>
                These roles are provided by the Data Cite schema. If more than one, add additional columns.
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="input-con-role" class="form-container-textarea"></textarea>
            </div>
            <div class="form-container-ds"><font color="black"> Is Contact person? </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;">
                Yes or No if the contributor is a contact person for the dataset
              </span>
            </div>
            <div class="demo-controls">
              <label class="switch">
                <input id="ds-contact-person" name="contact-person" type="checkbox" class="with-style-manifest"/>
                <span class="slider round"></span>
              </label>
            </div>
            <div align="right">
              <button id="button-ds-add-contributor" class="demo-button-prev-next" style="float:right">Add</button>
              <p id='para-save-contributor-status' style="float:right;padding-top:0;margin-right:5px;margin-bottom:0;margin-top:0"></p>
            </div>
            <br><br>
            <div id="div-current-contributors" style="width:100%;margin:0 auto;display:none;">
              <h5 align="center">Current Contributors</h5>
              <table id="table-current-contributors">
                <tr>
                  <th style="width:25%">Current Contributors</th>
                  <th style="width:15%">ORCID ID</th>
                  <th style="width:25%">Affiliation</th>
                  <th style="width:15%">Role</th>
                  <th style="width:10%">Contact Person</th>
                  <th style="width:10%"></th>
               </tr>
              </table>
            </div>
            <br><br><br>
            <div>
              <button id="button-prev-contributor-ds" class="demo-button-prev-next">Previous</button>
              <button id="button-next-contributor-misc" style="float:right" class="demo-button-prev-next">Next</button>
            </div>
          </div>
          <div id="div-ds-misc-info" style="width:85%;margin: 0 auto"class="datasetsaveoption">
            <br><br><br>
            <div class="form-container-ds"><font color="black"> Originating Article DOI: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;z-index:3">
                DOIs of published articles that were generated from this dataset
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-misc-DOI" class="form-container-input-bf" />
            </div>
            <div class="form-container-ds"><font color="black"> Protocol URL or DOI: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;z-index:3">
                URLs (if still private) / DOIs (if public) of protocols from protocols.io related to this dataset
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-misc-protocol" class="form-container-input-bf" />
            </div>
            <p></p>

            <h5 align="center"> Add additional links: </h5>
            <div class="form-container-ds"><font color="black"> Link: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;z-index:3">
                URLs of additional resources used by this dataset (e.g., a link to a code repository)
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-misc-addl-links" class="form-container-input-bf" />
            </div>
            <div class="form-container-ds"><font color="black"> Link Description: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;">
                Short description of URL content, you do not need to fill this in for Originating Article DOI or Protocol URL or DOI
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="input-misc-link-description" class="form-container-textarea"></textarea>
            </div>
            <div>
              <button id="button-ds-add-link" class="demo-button-prev-next" style="float:right">Add</button>
              <p id='para-save-link-status' style="float:right;padding-top:0;margin-right:5px;margin-bottom:0;margin-top:0"></p>
            </div>
          <br>
          <div id="div-current-additional-links" style="width:85%;margin: 0 auto;display:none">
            <h5 align="center">Additional Links:</h5>
            <table id="table-addl-links">
              <tr>
                <th style="width:30%">Links</th>
                <th style="width:60%">Description</th>
                <th style="width:10%"></th>
             </tr>
            </table>
          </div>
          <br><br><br>
            <div>
              <button id="button-prev-misc-contributor" class="demo-button-prev-next">Previous</button>
              <button id="button-next-misc-optional" style="float:right" class="demo-button-prev-next">Next</button>
            </div>
          </div>
          <div id="div-ds-optional-info" style="width:85%;margin: 0 auto" class="datasetsaveoption">
            <br>
            <div class="form-container-ds"><font color="black"> Completeness of dataset: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;">
                Is the data set as uploaded complete or is it part of an ongoing study.  Use "hasNext" to indicate that you expect more data on different subjects as a continuation of this study. Use “hasChildren” to indicate that you expect more data on the same subjects or samples derived from those subjects.
              </span>
            </div>
            <div class="demo-controls">
              <select id = "input-completeness" class="my-dropdown-metadata ds" style="border: 1px solid #C0C0C0;border-left: 2px solid #258193;">
                <option>Select an option</option>
                <option>hasChild</option>
                <option>hasNext</option>
              </select>
            </div>
            <div class="form-container-ds"><font color="black"> Parent dataset ID: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;">
                If this is a part of a larger data set, or refereces subjects or samples from a parent dataset, what was the accession number of the prior batch.  You need only give us the number of the last batch, not all batches. If samples and subjects are from multiple parent datasets please create a comma separated list of all parent ids.
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-parent-ds" class="form-container-input-bf" />
            </div>
            <div class="form-container-ds"><font color="black"> Title for complete dataset: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;">
                Please give us a provisional title for the entire data set.
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-completeds-title" class="form-container-input-bf" />
            </div>
            <div class="form-container-ds"><font color="black"> Metadata Version: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px;">
                DO NOT CHANGE: 1.2.3
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-metadata-ver" value="1.2.3" disabled class="form-container-input-bf"/>
            </div>
            <br>
            <div>
              <button id="button-prev-optional-misc" class="demo-button-prev-next">Previous</button>
              <button id="button-generate-ds-description" style="float:right"  class="demo-button-prev-next">Generate</button>
              <p id='para-generate-description-status' style="float:right;padding-top:0;margin-right:5px;margin-bottom:0;margin-top:0"></p>
            </div>
          </div>
          </div>
        </div>
      </div>


      <script type="text/javascript">
        require('./renderer-process/native-ui/dialogs/save')
        require('./renderer-process/prepare-metadata/save-information.js')
        // require('./renderer-process/prepare-metadata/table-script.js')
      </script>
      <script type="text/javascript" src="./renderer-process/prepare-metadata/table-script.js">
      </script>

  </section>
</template>
