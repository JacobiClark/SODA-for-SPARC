<template class="task-template">
  <section id="manage_submit-section" class="section js-section u-category-windows">
    <header class="section-header">
      <div class="section-wrapper">
        <h1>
          Manage and Submit Datasets
        </h1>
        <h3>This interface will assist you in managing and submitting your datasets on Blackfynn. It will also guide you for annotating your datasets using the Blackfynn model properties.</h3>
      </div>
    </header>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="new-window-crashes-demo-toggle" class="js-container-target demo-toggle-button">Login to your Blackfynn account
          <div class="demo-meta u-avoid-clicks"> Easy login interface </div>
        </button>

        <div class="demo-box">
          <p> Please checkout the dedicated <a href="https://help.blackfynn.com/articles/1488536-creating-an-api-key-for-the-blackfynn-clients"> Blackfynn Help </a>
          for generating an API and setting up your Blackfynn account on your computer for the first time. </p>

          <form id = 'blackfynnAccount'>
            <div>
              <input id="addAccount" name="blackfynn-account" type="radio" class="with-style" value="preexisting"/>
              <label for="addAccount" class=labelradio> Add new account </label>
                <tooltip data-tooltip="Authenticate yourself by using API key and secret" data-tooltip-position="left">( ? )</tooltip>
            </div>
            <div>
              <input id="selectAccount" name="blackfynn-account" type="radio" class="with-style" value="local" />
              <label for="selectAccount" class=labelradio> Select account </label>
                <tooltip data-tooltip="Added account(s) will be displayed in this drop-down list. <br>
                Select one one before continuing." data-tooltip-position="left">( ? )</tooltip>
            </div>
          </form>

          <div id="divAddAccount" class="datasetsaveoption">
            <h5> Add new account </h5>
            <div> <font color="black"> Api key name: </font> </div>
            <div class="demo-controls">
              <input id="bf-key-name" class="demo-response"> </input>
            </div>
            <div> <font color="black"> Api key: </font> </div>
            <div class="demo-controls">
              <input id="bf-key" class="demo-response"> </input>
            </div>
            <div> <font color="black"> Api secret: </font> </div>
            <div class="demo-controls">
              <input id="bf-secret" class="demo-response"> </input>
            </div>
            <h5> </h5>
            <div class="demo-controls">
              <button class="demo-button" id="add-bf-account"> Add account </button>
              <textarea class="demo-response" id="add-account-progress" readonly></textarea>
            </div>
          </div>

            <div id="divSelectAccount" class="datasetsaveoption">
              <h5> Select account </h5>
              <div class="demo-controls">
                <select class="my_dropdown" id=bfaccountlist>
                </select>
              </div>
              <p id='select-account-status'> <p>
            </div>

        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="new-window-crashes-demo-toggle" class="js-container-target demo-toggle-button"> Create new dataset folder
          <div class="demo-meta u-avoid-clicks"> Add an empty dataset folder on the selected Blackfynn account </div>
        </button>
        <div class="demo-box">
          <p> </p>

          <h5> Enter name
            <tooltip data-tooltip="Enter the name of the Dataset you want to create" data-tooltip-position="left">( ? )</tooltip>
          </h5>
          <div class="demo-controls">
            <input id="bf-new-dataset-name" class="demo-response"> </input>
          </div>

          <h5> </h5>
          <div class="demo-controls">
            <button class="demo-button" id="create-bf-new-dataset"> Create </button>
            <textarea class="demo-response" id="add-new-dataset-progress" readonly></textarea>
          </div>

        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="new-window-crashes-demo-toggle" class="js-container-target demo-toggle-button"> Submit new dataset
          <div class="demo-meta u-avoid-clicks"> Upload a local dataset to your Blackfynn account </div>
        </button>
        <div class="demo-box">
          <p> </p>

          <h5> Select local dataset to submit
            <tooltip data-tooltip="Select the local folder that you want to submit to your Blackfynn account" data-tooltip-position="left">( ? )</tooltip>
          </h5>
          <div class="demo-controls">
            <button class="demo-button" id="select-submit-dataset">Select Dataset Folder </button>
            <textarea class="demo-response" id="selected-submit-dataset"></textarea>
          </div>

          <h5> Select Blackfynn Dataset for uploading
            <tooltip data-tooltip="Select the target dataset on your Blackfynn (sorted by date of creation)." data-tooltip-position="left">( ? )</tooltip>
          </h5>
          <div class="demo-controls">
            <select class="my_dropdown" id="bfdatasetlist">
              <option> Select dataset </option>
            </select>
          </div>

          <h5> </h5>
          <div class="demo-controls">
            <button class="demo-button" id="refresh-dataset-list"> Refresh list </button>
          </div>

          <div>
          <h5> Submit
          <tooltip data-tooltip="Click to push all the files/folders from the selected local folder into the selected Blackfynn folder. <br>
          Local folder structure will be preserved." data-tooltip-position="left">( ? )</tooltip>
          </h5>
          <button class="demo-button" id="submit-dataset"> Submit dataset </button>
          </div>

          <div>
          <h5> Progress </h5>
          <textarea id='progresssubmit' class='outputprint' rows="25" readonly></textarea>
          </div>

        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="new-window-crashes-demo-toggle" class="js-container-target demo-toggle-button"> Manage dataset permission
          <div class="demo-meta u-avoid-clicks"> Give access to your dataset to other members of your organization for collaborating or the Curation Team for review </div>
        </button>
        <div class="demo-box">
          <h5> Select Blackfynn Dataset 
              <tooltip data-tooltip="Select the Blackfynn dataset you wish to see/edit permission (sorted by date of creation)." data-tooltip-position="left">( ? )</tooltip>
          </h5>
          <div class="demo-controls">
            <select class="my_dropdown" id="bfdatasetlist_permission">
              <option> Select dataset </option>
            </select>
          </div>
          <h5> Current permission 
              <tooltip data-tooltip="Name of user (First name, Last name) and their current permission (viewer, manager, editor) will be shown here for the selected dataset" data-tooltip-position="left">( ? )</tooltip>
          </h5>
          <div class="demo-controls">
            <p id = "dataset_permission_current"> </p>
          </div>

          <h5> Add/edit permission 
              <tooltip data-tooltip="Select name of user (First name, Last name) and the role you want to give for the selected dataset and click on  'Add permission' 
              <br>
              To share your dataset with the Curation Team for review select 'SPARC Data Curation Team' under user and 'manager' under role
              " data-tooltip-position="left">( ? )</tooltip>
          </h5>
          <div class="demo-controls">
            <select class="my_dropdown" id="bf_list_users">
              <option> Select user </option>
            </select>
          </div>

          <h5>  </h5>
          <div class="demo-controls">
            <select class="my_dropdown" id="bf_list_roles">
              <option> Select role </option>
              <option> viewer </option>
              <option> manager </option>
              <option> editor </option>
              <option> remove current permission </option>
            </select>
          </div>

          <h5>  </h5>
          <div class="demo-controls">
            <button class="demo-button" id="add_permission"> Add permission </button>
            <p id = "dataset_permission_status"> </p>
          </div>
        </div>
      </div>
    </div>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="new-window-crashes-demo-toggle" class="js-container-target demo-toggle-button"> Annotate dataset
          <div class="demo-meta u-avoid-clicks"> Inform the model properties for your dataset </div>
        </button>
        <div class="demo-box">
          <p> </p>

          <p> Coming soon... Tentative date: April 2020</p>

        </div>
      </div>
    </div>

    <script type="text/javascript">
      require('./renderer-process/native-ui/dialogs/open-file')
      require('./renderer-process/native-ui/dialogs/save')
      require('./renderer-process/manage_submit/blackfynn_account')
    </script>

  </section>
</template>
